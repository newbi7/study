web UI개발 -> MVVM(Model-View-ViewModel)
# UI 개발 pattern!
![](images/2023-01-25-14-16-52.png)

## component 기반의 Framework
-> 화면을 구조화(component)화 해서 개발!
![](images/2023-01-25-14-21-53.png)
"Vue instance 생성" => component 로 등록

## data 속성
```
Root component -> Vue instance
-- data 속성을 가지고 있다.
-> data : {
    myName : '홍길동'
}

다른 하위 component들(전역과 지역에 상관없이)
-> 재사용이 목적이에요 -> Root component 하단에 여러개가 반복해서 나올수 있다.
-> 그래서 data속성을 반드시 함수로 표현해야 한다. -> "객체를 리턴해야해요"
```

### component Scope
-> code로 알아보아요
```
component의 data는 scope가 각 component로 한정된다.
그래서 하나의 component에서 다른 component의 data를 직접적으로 access할수없다.
그러면 어떻게 해야 component간 데이터 통신을 할 수 있을까?
Vue가 몇가지 방법을 제공해준다.
기본은 component가 상하관계일때
상위component -> props -> 하위component
하위component -> event전달(Data를 붙여서) -> 상위component
하위 component에서 상위 component로 데이터를 전달하려면 하위 component에서 event로 emit시켜서 상위 compononet에게 신호를 보내면 됩니다.!
```
ex) Vue05.html
![](images/2023-01-26-12-26-51.png)


component간 data를 전달하는 방법
1. 상위 component (props) -> 하위 component 
    (event를 전달하는 방법이다.(Data도 같이 전달이 가능))
2. component간에 data전달을 하기위해 필요없는 component를 만들어야하나?
그래서 사용하는 방법이 EventBus이다.

## Evnet Bus
보통 emit 같은 기능을 사용해서 구현을 하겠지만 비 부모-자식간 통신을 해야하지만 EventBus를 활용하여 컴포넌트간 메소드를 호출할 수 있다. EventBus라는 공간에 각 프로젝트에 맞는 규격을 만들어 규격에 따라 활용하면 된다.
구성하는 코드는 별도로 빼든 main.js에 선언하든 크게 상관은 없다. 기본적인 구성은 아래와 같다.
//main.js

import Vue from 'vue'
import App from './App.vue'

// EventBus 생성
Vue.prototype.$EventBus = new Vue();

new Vue({
	...
    render: h => h(App)
}).$mount('#app')

자 그럼 만들어진 EventBus를 가지고 어떻게 활용을 하는가?
A 컴포넌트의 버튼을 클릭하면 B컴포넌트의 메서드를 실행하는 예시이다.
A Component
<template>
	...생략
    <button @click="onAClick">
    	버튼
    </button>
    ...생략
</template>

... 생략
    method: {
    	onAClick() {
        	this.$EventBus.$emit('fetchData')
        }
    }

B Component
<template>
	...생략
</template>

... 생략
  created() {
    this.$EventBus.$on('fetchData', () => {
      this.fetchData();
    })
  },

A 컴포넌트에서 버튼 클릭하여 EventBus를 통해 emit을 실행한다.
그리고 B컴포넌트에선 리스너로 실행한다.
만약 파라미터를 전송해야 한다면 어떤식으로 구성할까?
아래와 같이 구현이 가능하다.

// call
this.$EventBus.$emit('fetchData', param)
// listen
this.$EventBus.$on('fetchData', (param) => {
	this.fetchData(param);
})